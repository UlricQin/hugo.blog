+++
date = "2012-05-13T18:21:31+08:00"
menu = "main"
tags = ["linux", "monitor"]
title = "Linux top命令简介"

+++

# top命令的作用
用于查看进程的资源占用情况，比如你写了一个程序，想看一下它大体占用了多少CPU、多少内存，是否导致机器负载过重，top可以帮到你

# 用法
直接输入top即可，这是屏幕会显示一些动态变化的内容，刷新周期是1s，如果想改变刷新周期，请使用-d（delay）参数，比如： `top -d 3` 表示3s刷新一次

我当前用ulric账号登陆，我只想看ulric启动的所有进程的情况： `top -u ulric`
我只想看某几个pid对应的进程的情况： `top -p pid1, pid2, pid3`

刷新过程可以响应一些按键，比如：
M 按照内存占用排序
P 按照CPU占用排序
T 按照TIME+占用排序
k 提示你输入一个pid，输入之后会被kill
u 提示你输入一个用户名，比如我输入ulric，就会只显示ulric对应的进程情况
c 显示command完整命令，再按一下，回到原来样子
q 退出top

# 各个字段的作用

	PID	    // 进程pid
	USER    // 进程所有者
	PR      // 进程优先级别，越小越优先被执行
	NI      // nice值
	VIRT    // 进程占用的虚拟内存
	RES     // 进程占用的物理内存
	SHR     // 进程使用的共享内存
	S       // 进程状态，S表示休眠；R表示running；Z表示僵死，N表示该进程优先值为负数
	%CPU    // 进程占用的CPU使用率
	%MEM    // 进程占用的物理内存与总内存的百分比
	TIME+   // 进程启动后占用的总的CPU时间，即占用CPU使用时间的累加值
	COMMAND // 进程启动命令名称

